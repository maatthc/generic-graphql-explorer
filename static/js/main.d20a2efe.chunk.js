(this["webpackJsonpgeneric-graphql-explorer"]=this["webpackJsonpgeneric-graphql-explorer"]||[]).push([[0],{177:function(e,n,t){e.exports=t(273)},182:function(e,n,t){},270:function(e,n,t){},273:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(47),o=t.n(i),l=(t(182),t(118)),u=t(52),c=t(53),s=t(70),h=t(176),d=t(174),p=t(59),m=t(42),f=t(112),g=t(274),v=t(77),E=t.n(v),y=t(286),b=t(285),k=t(287),S=t(288),C=t(1);function w(e){for(var n=e;Object(C.U)(n);)n=n.ofType;return n}function x(e,n){var t=w(e.type);return!(!t.name.startsWith("GitHub")||!t.name.endsWith("Connection")||"first"!==n.name&&"orderBy"!==n.name)}function O(e,n,t){var a=w(e.type);switch(a.name){case"GitHubRepository":if("name"===n.name)return{kind:"StringValue",value:"graphql-js"};if("owner"===n.name)return{kind:"StringValue",value:"graphql"};break;case"NpmPackage":if("name"===n.name)return{kind:"StringValue",value:"graphql"};break;default:if(Object(C.E)(t)&&a.name.startsWith("GitHub")&&a.name.endsWith("Connection")){if("direction"===n.name&&t.getValues().map((function(e){return e.name})).includes("DESC"))return{kind:"EnumValue",value:"DESC"};if("field"===n.name&&t.getValues().map((function(e){return e.name})).includes("CREATED_AT"))return{kind:"EnumValue",value:"CREATED_AT"}}return E.a.defaultValue(t)}return E.a.defaultValue(t)}var q,T;t(268),t(269),t(270);function j(e){return T?fetch(q,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(T)},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){try{return JSON.parse(e)}catch(n){return e}})):Promise.resolve("")}var _=function(e){Object(h.a)(t,e);var n=Object(d.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e))._graphiql=void 0,a.state={query:'# shift-option/alt-click on a query below to jump to it in the explorer\n# option/alt-click on a field in the explorer to select all subfields\nquery MyQuery {\n    organization(slug: "") {\n      name\n      teams(first: 10) {\n        edges {\n          node {\n            name\n          }\n        }\n      }\n    }\n  }',explorerIsOpen:!0,show:!1,token:"",endPoint:""},a._handleInspectOperation=function(e,n){var t=Object(m.a)(a.state.query||"");if(!t)return console.error("Couldn't parse query document"),null;var r=e.getTokenAt(n),i={line:n.line,ch:r.start},o={line:n.line,ch:r.end},l={start:e.indexFromPos(i),end:e.indexFromPos(o)},u=t.definitions.find((function(e){if(!e.loc)return console.log("Missing location information for definition"),!1;var n=e.loc,t=n.start,a=n.end;return t<=l.start&&a>=l.end}));if(!u)return console.error("Unable to find definition corresponding to mouse position"),null;var c="OperationDefinition"===u.kind?u.operation:"FragmentDefinition"===u.kind?"fragment":"unknown",s="OperationDefinition"===u.kind&&u.name||"FragmentDefinition"===u.kind&&u.name?u.name.value:"unknown",h=".graphiql-explorer-root #".concat(c,"-").concat(s),d=document.querySelector(h);d&&d.scrollIntoView()},a._handleEditQuery=function(e){e=e||"",a.setState({query:e})},a._handleToggleExplorer=function(){a.setState({explorerIsOpen:!a.state.explorerIsOpen})},a._graphiql=new p.a({fetcher:j}),a.handleShowConfig=a.handleShowConfig.bind(Object(s.a)(a)),a.handleSave=a.handleSave.bind(Object(s.a)(a)),a.handleExit=a.handleExit.bind(Object(s.a)(a)),a}return Object(c.a)(t,[{key:"handleSave",value:function(){var e,n,t,a,r,i;(null===(e=this.state)||void 0===e||null===(n=e.token)||void 0===n?void 0:n.length)&&(null===(t=this.state)||void 0===t||null===(a=t.token)||void 0===a?void 0:a.length)<40||(T=(null===(r=this.state)||void 0===r?void 0:r.token)||"",q=(null===(i=this.state)||void 0===i?void 0:i.endPoint)||"",this.setState({show:!1}),this.updateSchema())}},{key:"handleShowConfig",value:function(){this.setState({show:!0})}},{key:"handleExit",value:function(){this.handleSave()}},{key:"onChange",value:function(e){e.preventDefault(),this.setState({[e.currentTarget.name]:e.currentTarget.value})}},{key:"updateSchema",value:function(){var e=this;T&&j({query:Object(f.a)()}).then((function(n){var t=e._graphiql.getQueryEditor();t.setOption("extraKeys",Object(l.a)(Object(l.a)({},t.options.extraKeys||{}),{},{"Shift-Alt-LeftClick":e._handleInspectOperation})),n.data&&e.setState({schema:Object(g.a)(n.data)})}))}},{key:"componentDidMount",value:function(){T?this.updateSchema():this.handleShowConfig()}},{key:"render",value:function(){var e=this,n=this.state,t=n.query,a=n.schema;return r.a.createElement("div",{className:"graphiql-container"},r.a.createElement(y.a,{show:this.state.show,onHide:this.handleSave,onExit:this.handleExit,backdrop:"static",keyboard:!1,centered:!0},r.a.createElement(y.a.Header,{closeButton:!0},r.a.createElement(y.a.Title,null,"Configuration")),r.a.createElement(y.a.Body,null,r.a.createElement(b.a,{className:"mb-3"},r.a.createElement(k.a,{name:"endpoint",placeholder:"Enter GraphQL API Endpoint","aria-label":"Enter GraphQL API Endpoint","aria-describedby":"basic-addon2",value:this.state.endPoint,onChange:this.onChange.bind(this)})),r.a.createElement("br",null),r.a.createElement(b.a,{className:"mb-3"},r.a.createElement(k.a,{name:"token",placeholder:"Enter GraphQL API Access Token","aria-label":"Enter GraphQL API Access Token","aria-describedby":"basic-addon2",value:this.state.token,onChange:this.onChange.bind(this)})),r.a.createElement("p",{className:"text-muted"},r.a.createElement("small",null,"Your token will be only shared with the GraphQL endpoint."))),r.a.createElement(y.a.Footer,null,r.a.createElement(S.a,{variant:"primary",onClick:this.handleSave},"Continue"))),r.a.createElement(E.a,{schema:a,query:t,onEdit:this._handleEditQuery,onRunOperation:function(n){return e._graphiql.handleRunQuery(n)},explorerIsOpen:this.state.explorerIsOpen,onToggleExplorer:this._handleToggleExplorer,getDefaultScalarArgValue:O,makeDefaultArg:x}),r.a.createElement(p.a,{ref:function(n){return e._graphiql=n},fetcher:j,schema:a,query:t,response:"No results yet..",onEditQuery:this._handleEditQuery},r.a.createElement(p.a.Toolbar,null,r.a.createElement(p.a.Button,{onClick:function(){return e._graphiql.handlePrettifyQuery()},label:"Prettify",title:"Prettify Query (Shift-Ctrl-P)"}),r.a.createElement(p.a.Button,{onClick:function(){return e._graphiql.handleToggleHistory()},label:"History",title:"Show History"}),r.a.createElement(p.a.Button,{onClick:this._handleToggleExplorer,label:"Explorer",title:"Toggle Explorer"}),r.a.createElement(p.a.Button,{onClick:this.handleShowConfig,label:"Configuration",title:"Change Configuration"}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[177,1,2]]]);
//# sourceMappingURL=main.d20a2efe.chunk.js.map